{
    "sourceFile": "frontend/src/components/Navbar.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1741854705625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741854800856,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n     !!localStorage.getItem(\"auth-token\")\r\n   );\r\n \r\n   const { user } = useSelector((store) => store.auth);\r\n-\r\n+  if(user.isadmin==true)console.log(\"admin welcome\");\r\n   // Jab bhi auth-token change ho, UI update ho\r\n   useEffect(() => {\r\n     const handleStorageChange = () => {\r\n       setIsLoggedIn(!!localStorage.getItem(\"auth-token\"));\r\n"
                },
                {
                    "date": 1741854940420,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n     !!localStorage.getItem(\"auth-token\")\r\n   );\r\n \r\n   const { user } = useSelector((store) => store.auth);\r\n-  if (user.isadmin == true) console.log(\"admin welcome\");\r\n+  if (user?.isadmin == true) console.log(\"admin welcome\");\r\n   // Jab bhi auth-token change ho, UI update ho\r\n   useEffect(() => {\r\n     const handleStorageChange = () => {\r\n       setIsLoggedIn(!!localStorage.getItem(\"auth-token\"));\r\n"
                },
                {
                    "date": 1742062078597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,14 +7,13 @@\n   const [isLoggedIn, setIsLoggedIn] = useState(\r\n     !!localStorage.getItem(\"auth-token\")\r\n   );\r\n \r\n-<<<<<<< HEAD\r\n-=======\r\n+\r\n   const { user } = useSelector((store) => store.auth);\r\n   if (user?.isadmin == true) console.log(\"admin welcome\");\r\n   // Jab bhi auth-token change ho, UI update ho\r\n->>>>>>> 4ae7cb345a152d6c78f4e6f343179b65cfa5e170\r\n+\r\n   useEffect(() => {\r\n     const handleStorageChange = () => {\r\n       setIsLoggedIn(!!localStorage.getItem(\"auth-token\"));\r\n     };\r\n"
                }
            ],
            "date": 1741854705624,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  const navigate = useNavigate();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(\r\n    !!localStorage.getItem(\"auth-token\")\r\n  );\r\n\r\n  const { user } = useSelector((store) => store.auth);\r\n\r\n  // Jab bhi auth-token change ho, UI update ho\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setIsLoggedIn(!!localStorage.getItem(\"auth-token\"));\r\n    };\r\n\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n    return () => window.removeEventListener(\"storage\", handleStorageChange);\r\n  }, []);\r\n\r\n  // Logout Function\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"auth-token\");\r\n    setIsLoggedIn(false);\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div className=\"container-fluid\">\r\n        <Link className=\"navbar-brand\" to=\"/\">\r\n          MediTrack <i className=\"fa-solid fa-house-medical\"></i>\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/\">\r\n                Home\r\n              </Link>\r\n            </li>\r\n\r\n            {/* Protected Routes */}\r\n            {isLoggedIn && (\r\n              <>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/doctors\">\r\n                    Doctors\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/remainder\">\r\n                    Remainder\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/history\">\r\n                    History & Analytics\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/healthy\">\r\n                    Healthy Lifestyle\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/prescription\">\r\n                    Prescription\r\n                  </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/admind\">\r\n                    Admin Data\r\n                  </Link>\r\n                </li>\r\n              </>\r\n            )}\r\n          </ul>\r\n\r\n          {/* Login / Logout Buttons */}\r\n          {!isLoggedIn ? (\r\n            <>\r\n              <Link className=\"btn btn-primary mx-2\" to=\"/login\">\r\n                Login\r\n              </Link>\r\n              <Link className=\"btn btn-primary mx-2\" to=\"/signup\">\r\n                Signup\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <button className=\"btn btn-danger mx-2\" onClick={handleLogout}>\r\n              Logout\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"
        }
    ]
}