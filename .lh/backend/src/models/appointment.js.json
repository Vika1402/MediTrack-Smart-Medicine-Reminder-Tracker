{
    "sourceFile": "backend/src/models/appointment.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1742189056196,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742189106855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,250 +1,41 @@\n-import React, { useState } from \"react\";\r\n+import mongoose from \"mongoose\";\r\n \r\n-const AdminData = () => {\r\n-  const [activeSection, setActiveSection] = useState(\"Dashboard\");\r\n-  const [doctorAction, setDoctorAction] = useState(null);\r\n-  const [appointmentAction, setAppointmentAction] = useState(null);\r\n-  const [profileImage, setProfileImage] = useState(null);\r\n-  const [previewImage, setPreviewImage] = useState(null);\r\n+const appointmentSchema = new mongoose.Schema(\r\n+  {\r\n+    userId: {\r\n+      type: mongoose.Schema.Types.ObjectId,\r\n+      ref: \"User\",\r\n+      required: true,\r\n+    },\r\n+    doctorId: {\r\n+      type: mongoose.Schema.Types.ObjectId,\r\n+      ref: \"Doctor\",\r\n+      required: true,\r\n+    },\r\n+    appointmentDate: { type: Date, required: true }, // Date of appointment\r\n+    appointmentDay: { type: String, required: true }, // e.g., \"Monday\", \"Tuesday\"\r\n+    appointmentTime: { type: String, required: true }, // e.g., \"14:30\" (24-hour format)\r\n+    status: {\r\n+      type: String,\r\n+      enum: [\"Pending\", \"Confirmed\", \"Cancelled\", \"Completed\"],\r\n+      default: \"Pending\",\r\n+    },\r\n+    notes: { type: String },\r\n+  },\r\n+  { timestamps: true }\r\n+);\r\n \r\n-  const handleImageChange = (e) => {\r\n-    const file = e.target.files[0];\r\n-    setProfileImage(file);\r\n-    setPreviewImage(URL.createObjectURL(file));\r\n-  };\r\n+const Appointment = mongoose.model(\"Appointment\", appointmentSchema);\r\n+export { Appointment };\r\n+// appointmentSchema.pre('save', function (next) {\r\n+//   const dayOfWeek = this.appointmentDate.toLocaleString('en-US', { weekday: 'long' });\r\n+//   this.appointmentDay = dayOfWeek;\r\n+//   next();\r\n+// });\r\n \r\n-  const renderContent = () => {\r\n-    switch (activeSection) {\r\n-      case \"Dashboard\":\r\n-        return <h2>Welcome to Admin Dashboard</h2>;\r\n-      case \"All Doctors\":\r\n-        return <h2>Fetching doctor data from backend...</h2>;\r\n-      case \"Prescription\":\r\n-        return <h2>Manage Prescriptions</h2>;\r\n-      case \"Appointments\":\r\n-        return <h2>Appointments Management</h2>;\r\n-      case \"Patients\":\r\n-        return <h2>Patient Records</h2>;\r\n-      case \"Reminder\":\r\n-        return <h2>Set a Reminder</h2>;\r\n-      case \"Update Doctors\":\r\n-        return (\r\n-          <div className=\"text-center\">\r\n-            <h2>Manage Doctors</h2>\r\n-            <div className=\"mt-3\">\r\n-              <button\r\n-                className=\"btn btn-primary me-3\"\r\n-                onClick={() => setDoctorAction(\"add\")}\r\n-              >\r\n-                Add Doctor\r\n-              </button>\r\n-              <button\r\n-                className=\"btn btn-danger\"\r\n-                onClick={() => setDoctorAction(\"remove\")}\r\n-              >\r\n-                Remove Doctor\r\n-              </button>\r\n-            </div>\r\n+// .........\r\n \r\n-            {doctorAction === \"add\" && (\r\n-              <form className=\"mt-3\">\r\n-                <h4 className=\"mb-3\">Add New Doctor</h4>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Full Name\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Speciality\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Phone\"\r\n-                />\r\n-                <input\r\n-                  type=\"email\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Email\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Address\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Experience (in years)\"\r\n-                />\r\n-                <input\r\n-                  type=\"number\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Fees\"\r\n-                />\r\n-                <div className=\"mb-3\">\r\n-                  <label className=\"form-label\">Profile Image</label>\r\n-                  <input\r\n-                    type=\"file\"\r\n-                    className=\"form-control\"\r\n-                    accept=\"image/*\"\r\n-                    onChange={handleImageChange}\r\n-                  />\r\n-                </div>\r\n-                {previewImage && (\r\n-                  <div className=\"mb-3\">\r\n-                    <p>Preview:</p>\r\n-                    <img\r\n-                      src={previewImage}\r\n-                      alt=\"Profile Preview\"\r\n-                      className=\"img-thumbnail\"\r\n-                      style={{\r\n-                        width: \"150px\",\r\n-                        height: \"150px\",\r\n-                        objectFit: \"cover\",\r\n-                      }}\r\n-                    />\r\n-                  </div>\r\n-                )}\r\n-                <button className=\"btn btn-success\">Submit</button>\r\n-              </form>\r\n-            )}\r\n-\r\n-            {doctorAction === \"remove\" && (\r\n-              <form className=\"mt-3\">\r\n-                <h4>Remove Doctor</h4>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Doctor's Email or Name\"\r\n-                />\r\n-                <button className=\"btn btn-danger\">Remove</button>\r\n-              </form>\r\n-            )}\r\n-          </div>\r\n-        );\r\n-      case \"Update Appointments\":\r\n-        return (\r\n-          <div className=\"text-center\">\r\n-            <h2>Manage Appointments</h2>\r\n-            <div className=\"mt-3\">\r\n-              <button\r\n-                className=\"btn btn-primary me-3\"\r\n-                onClick={() => setAppointmentAction(\"add\")}\r\n-              >\r\n-                Add Appointment\r\n-              </button>\r\n-              <button\r\n-                className=\"btn btn-danger\"\r\n-                onClick={() => setAppointmentAction(\"remove\")}\r\n-              >\r\n-                Remove Appointment\r\n-              </button>\r\n-            </div>\r\n-\r\n-            {appointmentAction === \"add\" && (\r\n-              <form className=\"mt-3\">\r\n-                <h4 className=\"mb-3\">Add New Appointment</h4>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"User ID\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Doctor ID\"\r\n-                />\r\n-                <input\r\n-                  type=\"date\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Appointment Date\"\r\n-                />\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Appointment Day\"\r\n-                />\r\n-                <input\r\n-                  type=\"time\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Appointment Time\"\r\n-                />\r\n-                <select className=\"form-control mb-2\">\r\n-                  <option value=\"Pending\">Pending</option>\r\n-                  <option value=\"Confirmed\">Confirmed</option>\r\n-                  <option value=\"Cancelled\">Cancelled</option>\r\n-                  <option value=\"Completed\">Completed</option>\r\n-                </select>\r\n-                <textarea\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Notes (optional)\"\r\n-                ></textarea>\r\n-                <button className=\"btn btn-success\">Submit</button>\r\n-              </form>\r\n-            )}\r\n-\r\n-            {appointmentAction === \"remove\" && (\r\n-              <form className=\"mt-3\">\r\n-                <h4>Remove Appointment</h4>\r\n-                <input\r\n-                  type=\"text\"\r\n-                  className=\"form-control mb-2\"\r\n-                  placeholder=\"Appointment ID\"\r\n-                />\r\n-                <button className=\"btn btn-danger\">Remove</button>\r\n-              </form>\r\n-            )}\r\n-          </div>\r\n-        );\r\n-      default:\r\n-        return <h2>Select an option from the sidebar</h2>;\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"d-flex vh-100 mt-3\">\r\n-      <aside\r\n-        className=\"bg-dark text-white p-4 d-flex flex-column\"\r\n-        style={{ width: \"250px\" }}\r\n-      >\r\n-        <h2 className=\"text-center mb-4\">Admin Panel</h2>\r\n-        {[\r\n-          \"Dashboard\",\r\n-          \"Appointments\",\r\n-          \"Update Appointments\",\r\n-          \"All Doctors\",\r\n-          \"Update Doctors\",\r\n-          \"Prescription\",\r\n-          \"Update Prescription\",\r\n-          \"Reminder\",\r\n-          \"Update Reminder\",\r\n-          \"Patients\",\r\n-          \"Update Patients\",\r\n-        ].map((section) => (\r\n-          <button\r\n-            key={section}\r\n-            type=\"button\"\r\n-            className={`btn btn-success text-left mb-2 ${\r\n-              activeSection === section ? \"fw-bold\" : \"\"\r\n-            }`}\r\n-            onClick={() => {\r\n-              setActiveSection(section);\r\n-              setDoctorAction(null);\r\n-              setAppointmentAction(null);\r\n-            }}\r\n-          >\r\n-            {section}\r\n-          </button>\r\n-        ))}\r\n-      </aside>\r\n-      <main className=\"flex-grow-1 d-flex justify-content-center align-items-center fs-4 fw-semibold\">\r\n-        {renderContent()}\r\n-      </main>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default AdminData;\r\n+// appointmentSchemaconst appointments = await Appointment.find({\r\n+//   appointmentDay: 'Monday',\r\n+//   appointmentTime: '14:30'\r\n+// });\r\n"
                }
            ],
            "date": 1742189056196,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\n\r\nconst AdminData = () => {\r\n  const [activeSection, setActiveSection] = useState(\"Dashboard\");\r\n  const [doctorAction, setDoctorAction] = useState(null);\r\n  const [appointmentAction, setAppointmentAction] = useState(null);\r\n  const [profileImage, setProfileImage] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setProfileImage(file);\r\n    setPreviewImage(URL.createObjectURL(file));\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (activeSection) {\r\n      case \"Dashboard\":\r\n        return <h2>Welcome to Admin Dashboard</h2>;\r\n      case \"All Doctors\":\r\n        return <h2>Fetching doctor data from backend...</h2>;\r\n      case \"Prescription\":\r\n        return <h2>Manage Prescriptions</h2>;\r\n      case \"Appointments\":\r\n        return <h2>Appointments Management</h2>;\r\n      case \"Patients\":\r\n        return <h2>Patient Records</h2>;\r\n      case \"Reminder\":\r\n        return <h2>Set a Reminder</h2>;\r\n      case \"Update Doctors\":\r\n        return (\r\n          <div className=\"text-center\">\r\n            <h2>Manage Doctors</h2>\r\n            <div className=\"mt-3\">\r\n              <button className=\"btn btn-primary me-3\" onClick={() => setDoctorAction(\"add\")}>\r\n                Add Doctor\r\n              </button>\r\n              <button className=\"btn btn-danger\" onClick={() => setDoctorAction(\"remove\")}>\r\n                Remove Doctor\r\n              </button>\r\n            </div>\r\n\r\n            {doctorAction === \"add\" && (\r\n              <form className=\"mt-3\">\r\n                <h4 className=\"mb-3\">Add New Doctor</h4>\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Full Name\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Speciality\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Phone\" />\r\n                <input type=\"email\" className=\"form-control mb-2\" placeholder=\"Email\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Address\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Experience (in years)\" />\r\n                <input type=\"number\" className=\"form-control mb-2\" placeholder=\"Fees\" />\r\n                <div className=\"mb-3\">\r\n                  <label className=\"form-label\">Profile Image</label>\r\n                  <input type=\"file\" className=\"form-control\" accept=\"image/*\" onChange={handleImageChange} />\r\n                </div>\r\n                {previewImage && (\r\n                  <div className=\"mb-3\">\r\n                    <p>Preview:</p>\r\n                    <img src={previewImage} alt=\"Profile Preview\" className=\"img-thumbnail\" style={{ width: \"150px\", height: \"150px\", objectFit: \"cover\" }} />\r\n                  </div>\r\n                )}\r\n                <button className=\"btn btn-success\">Submit</button>\r\n              </form>\r\n            )}\r\n\r\n            {doctorAction === \"remove\" && (\r\n              <form className=\"mt-3\">\r\n                <h4>Remove Doctor</h4>\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Doctor's Email or Name\" />\r\n                <button className=\"btn btn-danger\">Remove</button>\r\n              </form>\r\n            )}\r\n          </div>\r\n        );\r\n      case \"Update Appointments\":\r\n        return (\r\n          <div className=\"text-center\">\r\n            <h2>Manage Appointments</h2>\r\n            <div className=\"mt-3\">\r\n              <button className=\"btn btn-primary me-3\" onClick={() => setAppointmentAction(\"add\")}>Add Appointment</button>\r\n              <button className=\"btn btn-danger\" onClick={() => setAppointmentAction(\"remove\")}>Remove Appointment</button>\r\n            </div>\r\n\r\n            {appointmentAction === \"add\" && (\r\n              <form className=\"mt-3\">\r\n                <h4 className=\"mb-3\">Add New Appointment</h4>\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"User ID\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Doctor ID\" />\r\n                <input type=\"date\" className=\"form-control mb-2\" placeholder=\"Appointment Date\" />\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Appointment Day\" />\r\n                <input type=\"time\" className=\"form-control mb-2\" placeholder=\"Appointment Time\" />\r\n                <select className=\"form-control mb-2\">\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Confirmed\">Confirmed</option>\r\n                  <option value=\"Cancelled\">Cancelled</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n                <textarea className=\"form-control mb-2\" placeholder=\"Notes (optional)\"></textarea>\r\n                <button className=\"btn btn-success\">Submit</button>\r\n              </form>\r\n            )}\r\n\r\n            {appointmentAction === \"remove\" && (\r\n              <form className=\"mt-3\">\r\n                <h4>Remove Appointment</h4>\r\n                <input type=\"text\" className=\"form-control mb-2\" placeholder=\"Appointment ID\" />\r\n                <button className=\"btn btn-danger\">Remove</button>\r\n              </form>\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return <h2>Select an option from the sidebar</h2>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex vh-100 mt-3\">\r\n      <aside className=\"bg-dark text-white p-4 d-flex flex-column\" style={{ width: \"250px\" }}>\r\n        <h2 className=\"text-center mb-4\">Admin Panel</h2>\r\n        {[\"Dashboard\", \"Appointments\", \"Update Appointments\", \"All Doctors\", \"Update Doctors\", \"Prescription\", \"Update Prescription\", \"Reminder\", \"Update Reminder\", \"Patients\", \"Update Patients\"].map((section) => (\r\n          <button key={section} type=\"button\" className={`btn btn-success text-left mb-2 ${activeSection === section ? \"fw-bold\" : \"\"}`} onClick={() => { setActiveSection(section); setDoctorAction(null); setAppointmentAction(null); }}>\r\n            {section}\r\n          </button>\r\n        ))}\r\n      </aside>\r\n      <main className=\"flex-grow-1 d-flex justify-content-center align-items-center fs-4 fw-semibold\">\r\n        {renderContent()}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminData;\r\n"
        }
    ]
}