{
    "sourceFile": "frontend/src/components/Login.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1742047956944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742048006985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import axiosInstance from \"../utils/axiosInstant\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import { Link } from \"react-router-dom\";\r\n import { useDispatch } from \"react-redux\";\r\n-import { setUser } from \"../state/store\";\r\n+// import { setUser } from \"../state/store\";\r\n const Login = () => {\r\n   const [email, setEmail] = useState(\"\");\r\n   const [password, setPassword] = useState(\"\");\r\n   const navigate = useNavigate();\r\n@@ -20,9 +20,9 @@\n       if (response?.data?.success) {\r\n         toast.success(response?.data?.message);\r\n         localStorage.setItem(\"auth-token\", response?.data?.token); // Token Store\r\n         window.dispatchEvent(new Event(\"storage\")); // Navbar Update\r\n-        dispatch(setUser(response?.data?.user));\r\n+        // dispatch(setUser(response?.data?.user));\r\n         navigate(\"/\");\r\n       }\r\n     } catch (error) {\r\n       toast.error(error.response?.data?.message || \"Login failed\");\r\n"
                }
            ],
            "date": 1742047956944,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport axiosInstance from \"../utils/axiosInstant\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setUser } from \"../state/store\";\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axiosInstance.post(\"/api/user/login\", {\r\n        email,\r\n        password,\r\n      });\r\n      if (response?.data?.success) {\r\n        toast.success(response?.data?.message);\r\n        localStorage.setItem(\"auth-token\", response?.data?.token); // Token Store\r\n        window.dispatchEvent(new Event(\"storage\")); // Navbar Update\r\n        dispatch(setUser(response?.data?.user));\r\n        navigate(\"/\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || \"Login failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container d-flex justify-content-center align-items-center vh-100\">\r\n      <div className=\"card p-4 shadow-lg\" style={{ width: \"400px\" }}>\r\n        <form onSubmit={handleSubmit}>\r\n          <h2 className=\"text-center\">Login</h2>\r\n          <h6 className=\"text-center text-muted\">\r\n            <i>* Come after Signing in</i>\r\n            <br />\r\n          </h6>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputEmail1\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n        <div className=\"admin\">\r\n          for admin purpose only\r\n          <Link className=\"btn btn-info mx-2\" to=\"/admin\">\r\n            Click here\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"
        }
    ]
}